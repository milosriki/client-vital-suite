# üîç Vercel Environment Variables Check

## Current Status

### ‚úÖ What's Set:
- ‚úÖ `VITE_SUPABASE_URL` - In `vercel.json` (will be available at build time)
- ‚úÖ `VITE_SUPABASE_PUBLISHABLE_KEY` - In `vercel.json` (will be available at build time)
- ‚úÖ `VERCEL_OIDC_TOKEN` - Auto-generated by Vercel (for authentication)

### ‚ùå What's Missing:
- ‚ùå `FB_PIXEL_ID` - **NOT SET** in Vercel environment variables
- ‚ùå `FB_ACCESS_TOKEN` - **NOT SET** in Vercel environment variables
- ‚ùå `FB_TEST_EVENT_CODE` - Optional, not set
- ‚ùå `EVENT_SOURCE_URL` - Optional, not set

---

## ‚ö†Ô∏è Important Note

**`vercel.json` env vars**: 
- Variables in `vercel.json` ‚Üí `env` section are available at **build time** for the frontend
- They are **NOT** available to serverless functions (`/api/*`) at **runtime**

**For `/api/*` serverless functions**, you need to set environment variables via:
1. Vercel Dashboard ‚Üí Settings ‚Üí Environment Variables
2. Or `vercel env add` command

---

## üîß How to Set Missing Variables

### Option 1: Via CLI
```bash
export PATH=~/.npm-global/bin:$PATH

# Set for production
vercel env add FB_PIXEL_ID production
# Enter your Pixel ID when prompted

vercel env add FB_ACCESS_TOKEN production
# Enter your Access Token when prompted

# Also set for preview/development if needed
vercel env add FB_PIXEL_ID preview
vercel env add FB_ACCESS_TOKEN preview
```

### Option 2: Via Dashboard
1. Go to: https://vercel.com/dashboard
2. Click: `jux` project (or `client-vital-suite`)
3. Go to: **Settings ‚Üí Environment Variables**
4. Click: **Add New**
5. Add:
   - **Name**: `FB_PIXEL_ID`
   - **Value**: Your Pixel ID
   - **Environment**: Production, Preview, Development (select all)
   - Click **Save**
6. Repeat for `FB_ACCESS_TOKEN`

---

## üìä Current Environment Variables

**Production**: None set (except auto-generated OIDC token)
**Preview**: None set
**Development**: Only `VERCEL_OIDC_TOKEN` (auto-generated)

---

## ‚úÖ After Setting Variables

Once you set `FB_PIXEL_ID` and `FB_ACCESS_TOKEN`:
- ‚úÖ `/api/events/*` endpoints will work
- ‚úÖ `/api/events/batch` will work
- ‚úÖ `/api/webhook/backfill` will work
- ‚úÖ Meta CAPI integration will work

---

**Status**: ‚ö†Ô∏è **Environment variables NOT set in Vercel** - Need to add them!

